<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <link rel="stylesheet" type="text/css" href="css/imageEditor.css"/>
    <title>ImageEditor</title>
</head>
<body>
    <input type="file" id="image"></input>
    <script type="text/javascript" src="js/jquery.1.8.1.min.js"></script>
    <script type="text/javascript" src="js/imageEditor.js"></script>
    <script type="text/javascript">
        var editor = null;

        $('#image').on('change',function(e){
            var imageFile = e.target.files[0];

            var fd = new FileReader();

            fd.onload = function(e){
                var dataUrl = e.target.result;
                console.log(dataUrl);

                var editorConfig = {
                    url:dataUrl,                    //原图url || dataUrl
                    degree:-90,                     //默认旋转角度
                    lineWeight:[5,10,15],           //马赛克画笔
                };
                
                if(!editor){
                    editor = new ImageEditor(editorConfig);
                }else{
                    editor.resetImgItem(editorConfig);
                } 
            };
            
            fd.readAsDataURL(imageFile);
        });

        
    </script>
</body>
</html>
